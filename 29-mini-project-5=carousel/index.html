<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.12.1/dist/cdn.min.js"></script>
    <title>Alpine js - mini project 5 - carousel</title>
</head>

<body>
<div class="document-center" x-data="carousel">
    <div class="carousel-container">
        <div class="carousel">

            <template x-for="(slide ,index) in slides" :key="index">
                <section class="carousel-screen" x-show="activeSilde === index + 1" x-transition>
                    <img :src="slide.image" alt="Chicago Band"/>
                    <section class="text-container">
                        <p x-text="slide.title"></p>
                        <p x-text="slide.desc"></p>
                    </section>
                </section>
            </template>

            <section class="circle-container">
                <template x-for="(slide ,index) in slides" :key="index">
                    <div
                            class="circle"
                            :class="{ 'circle-fill' : activeSilde === index + 1 }"
                            @click="activeSilde = index + 1"></div>
                </template>
            </section>

            <div class="left-arrow" @click="prev">
                <span class="chevron left"></span>
            </div>
            <div class="right-arrow" @click="next">
                <span class="chevron right"></span>
            </div>

        </div>
    </div>
</div>

<script>
    document.addEventListener('alpine:init', () => {
        Alpine.data('carousel', () => ({
            activeSilde: 1,
            slides: [
                {
                    title: 'New York',
                    desc: 'Thank you, Chicago!',
                    image: 'https://www.w3schools.com/bootstrap/chicago.jpg'
                },
                {
                    title: 'New York',
                    desc: 'We love the Big Apple!',
                    image: 'https://www.w3schools.com/bootstrap/ny.jpg'
                },
                {
                    title: 'Los Angeles',
                    desc: 'LA is always so much fun!',
                    image: 'https://www.w3schools.com/bootstrap/la.jpg'
                }
            ],

            next() {
                this.activeSilde = this.activeSilde === this.slides.length ? 1 : this.activeSilde + 1
            },

            prev() {
                this.activeSilde = this.activeSilde === 1 ? this.slides.length : this.activeSilde - 1
            }

        }))
    })
</script>

</body>
</html>